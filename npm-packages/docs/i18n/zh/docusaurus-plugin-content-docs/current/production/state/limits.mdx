---
title: "限制"
sidebar_position: 2
---

我们非常希望你在 Convex 上构建应用时能获得&#95;无限&#95;的快乐，但出于工程上的现实考量，仍然必须设定一些限制。此页面概述了当前在 Convex 生态系统中的各项限制。

这些限制中的许多会随着时间推移逐步放宽。如果其中任何一项对你的应用造成了严重影响，请与我们联系。

除非另有说明，这些限制都是以团队为单位施加的。

## 团队 \{#team\}

|        | 免费版/入门版      | 专业版                    |
| ------ | ------------------ | ------------------------- |
| 开发者 | 1-6                | 每位成员每月 25 美元      |
| 部署   | 40                 | 120                       |

## 数据库 \{#database\}

|                   | 免费/Starter                                                      | 专业版                                              | 备注                                                                                       |
| ----------------- | ----------------------------------------------------------------- | --------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| Storage           | 含 0.5 GiB<br />(Starter 套餐中：每额外 GiB $0.22/月)              | 含 50 GiB<br />每额外 GiB $0.20/月                   | 包括数据库行和索引，但不包括文件或备份。                                                  |
| Bandwidth         | 含 1 GiB/月<br />(Starter 套餐中：每额外 GiB $0.22)                | 含 50 GiB/月<br />每额外 GiB $0.20                   | 在 Convex 函数与底层数据库之间传输的文档和索引数据。                                      |
| Tables            | 10,000                                                            | 10,000                                              | 每个部署。                                                                                |
| Indexes per table | 32                                                                | 32                                                  |                                                                                            |
| Fields per index  | 16                                                                | 16                                                  |
| Index name length | 64 characters                                                     | 64 characters                                       |                                                                                            |

### 限制 \{#restrictions\}

* 表和索引名称必须是有效的标识符，并且不能以下划线开头。

## 文档 \{#documents\}

除非另有说明，这些限制适用于每个文档以及其中任意嵌套的 `Object`。

|                     |               | 备注                                                             |
| ------------------- | ------------- | ---------------------------------------------------------------- |
| 大小                | 1 MiB         |                                                                  |
| 字段数              | 1024          | 字段/键的数量                                                    |
| 字段名长度          | 64 个字符     | 嵌套的 `Object` 键的长度最多可达 1024 个字符。                  |
| 字段嵌套深度        | 16            | 对象和数组最多可以嵌套的层数，例如 `[[[[]]]]`                    |
| 数组元素数量        | 8192          |                                                                  |

### 限制 \{#restrictions\}

* 字段名只能包含 ASCII 字母数字字符（不含控制字符）和下划线，并且必须以字母或下划线开头。
* 文档不能包含以下划线开头的顶级字段，系统提供的 `_id` 和 `_creationTime` 字段除外。
* 字符串必须是有效的 Unicode 序列，且不能包含未成对的代理字符（surrogate）。

## 函数 \{#functions\}

|                                                                              | 免费/入门版                                                              | 专业版                                                   | 备注                                                                                                          |
| ---------------------------------------------------------------------------- | ------------------------------------------------------------------------- | --------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| 函数调用                                                                     | 每月包含 1,000,000 次<br />（入门版：额外每 1,000,000 次 $2.20）           | 每月包含 25,000,000 次<br />额外每 1,000,000 次 $2        | 显式客户端调用、调度执行、订阅更新以及文件访问都计为函数调用。                                               |
| 操作执行                                                                     | 包含 20 GiB·小时<br />（入门版：额外 $0.33/GiB·小时）                     | 包含 250 GiB·小时<br />额外 $0.30/GiB·小时                | Convex 运行时环境：64 MiB RAM。<br />Node.js 运行时环境：512 MiB RAM。                                         |
| 代码大小                                                                     | 32 MiB                                                                    | 32 MiB                                                    | 每个部署。                                                                                                    |
| 函数参数大小                                                                 | 16 MiB                                                                    | 16 MiB                                                    | Node 操作函数仅支持最大 5 MiB 的参数。                                                                        |
| 函数返回值大小                                                               | 16 MiB                                                                    | 16 MiB                                                    |                                                                                                               |
| HTTP 操作响应大小                                                            | 20 MiB                                                                    | 20 MiB                                                    | 请求大小没有特定上限                                                                                          |
| 单条 console.log 输出行的长度                                               | 4 KiB                                                                     | 4 KiB                                                     |                                                                                                               |
| [日志流式传输](/production/integrations/log-streams/log-streams.mdx) 限制    | 4096 条日志，每 10 秒刷新一次                                            | 4096 条日志，每 10 秒刷新一次                             | 流式传输时可缓冲的最大日志数量                                                                                |

## 函数并发执行数 \{#concurrent-function-executions\}

每种函数类型在同一时间可以运行的数量。

|                        | 免费/入门版 | 专业版<sup>*</sup> |
| ---------------------- | ------------ | -------------------- |
| 查询                   | 16           | 256                  |
| 变更函数               | 16           | 256                  |
| Convex 运行时操作函数  | 64           | 256                  |
| Node 操作函数          | 64           | 1000                 |
| HTTP 操作函数          | 16           | 128                  |
| 定时任务               | 10           | 300                  |

<sup>*</sup> 对于专业版客户，可以根据具体情况提高这些限制。请通过仪表盘向我们发送支持请求，以便讨论你的需求。通常只有在你的产品存在高度突发的流量时才需要提升这些限制。

## 执行时间和调度 \{#execution-time-and-scheduling\}

|                                              |                 | 备注                                                                                                                     |
| -------------------------------------------- | --------------- | ------------------------------------------------------------------------------------------------------------------------ |
| Query/mutation 执行时间                      | 1 秒            | 限制仅适用于用户代码，不包括数据库操作时间。                                                                             |
| Action 执行时间                              | 10 分钟    |                                                                                                                          |
| 已调度函数                                   | 1000            | 单个变更函数可以调度的其他函数数量。                                                                                    |
| 已调度函数参数总大小                         | 16 MiB          | 仅适用于变更函数。                                                                                                       |
| 每个函数的并发 I/O 操作                      | 1000            | 单个函数可以执行的 I/O 操作数量，例如一次数据库操作，或在一个操作中发起的 fetch 请求。                                   |
| 未完成的已调度函数                           | 1,000,000       |                                                                                                                          |

## 事务 \{#transactions\}

这些限制适用于每次 `query` 或 `mutation` 函数调用。

|                            |        | 说明                                                           |
| -------------------------- | ------ | -------------------------------------------------------------- |
| 读取的数据量               | 16 MiB | 由于 `filter` 未返回的数据也计入已扫描的数据量                 |
| 写入的数据量               | 16 MiB |
| 扫描的文档数量             | 32,000 | 由于 `filter` 未返回的文档也计入已扫描的文档数量               |
| 读取的索引范围数量         | 4,096  | 调用 `db.get` 和 `db.query` 的次数。                          |
| 写入的文档数量             | 16,000 |
| 函数返回值大小             | 16 MiB |

## 环境变量 \{#environment-variables\}

按部署生效。

|                     |               |
| ------------------- | ------------- |
| 变量数量上限        | 1000          |
| 最大名称长度        | 40 个字符     |
| 最大值大小          | 8 KiB         |

## 文件存储 \{#file-storage\}

|           | 免费 / Starter                                                   | Professional                                        | 备注                                                                                                      |
| --------- | ---------------------------------------------------------------- | --------------------------------------------------- | --------------------------------------------------------------------------------------------------------- |
| Storage   | 包含 1 GiB<br />(在 Starter：每额外 1 GiB 为 $0.033/月)           | 包含 100 GiB<br />每额外 1 GiB 为 $0.03/月           | 包括用户文件和备份。                                                                                      |
| Bandwidth | 每月包含 1 GiB<br />(在 Starter：每额外 1 GiB 为 $0.33/月)        | 每月包含 50 GiB<br />每额外 1 GiB 为 $0.30/月        | 包括向用户提供文件、在函数中访问用户文件，以及生成和恢复备份。                                           |

## 全文搜索 \{#full-text-search\}

|                             | 值    |
| --------------------------- | ----- |
| 每个表的搜索索引数量        | 4     |
| 每个搜索索引的过滤器数量    | 16    |
| 每个搜索查询的搜索词数量    | 16    |
| 每个搜索查询的过滤器数量    | 8     |
| 最大搜索词长度              | 32 B  |
| 最大结果集大小              | 1024  |

## 向量搜索 \{#vector-search\}

|                          | 值                        |
| ------------------------ | ------------------------ |
| 每个表的向量索引数量     | 4                        |
| 每个向量索引的筛选器数量 | 16                       |
| 每个搜索查询的检索词数量 | 16                       |
| 可用于搜索的向量数量     | 1                        |
| 维度字段数量             | 1（取值范围 2-4096）      |
| 每个搜索查询的筛选器数量 | 64                       |
| 检索词最大长度           | 32 B                     |
| 最大结果集大小           | 256（默认 10）           |

如果这些限制不适合你的需求，
[请告诉我们](https://convex.dev/community)!

请查看我们的[方案与定价页面](https://www.convex.dev/pricing)以了解资源限制。
在免费方案中达到这些限制后，通过新的变更函数尝试提交更多插入或更新操作可能会失败。
付费方案没有硬性资源限制——可以扩展到数十亿文档和 TB 级存储空间。