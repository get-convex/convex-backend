---
title: Inicio rápido de Next.js
sidebar_label: Next.js
description: "Añade Convex a un proyecto de Next.js"
hide_table_of_contents: true
sidebar_position: 200
---

import sampleData from "!!raw-loader!@site/../private-demos/quickstarts/nextjs/sampleData.jsonl";
import layout from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir/app/layout.tsx";
import ConvexClientProvider from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir/app/ConvexClientProvider.tsx";
import tasks from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir/convex/tasks.ts";
import page from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir/app/page.tsx";
import layoutJs from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir-js/app/layout.js";
import ConvexClientProviderJs from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir-js/app/ConvexClientProvider.jsx";
import tasksJs from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir-js/convex/tasks.js";
import pageJs from "!!raw-loader!@site/../private-demos/quickstarts/nextjs-app-dir-js/app/page.js";

<Admonition type="tip" title="Convex + Next.js">
  Convex es un backend y una base de datos todo en uno que se integra de forma rápida y sencilla
  con Next.js.

  Una vez que hayas comenzado, consulta cómo configurar
  [hosting](/production/hosting/hosting.mdx),
  [renderizado en el servidor](/client/nextjs/app-router/server-rendering.mdx) y
  [autenticación](https://docs.convex.dev/client/nextjs/).
</Admonition>

Para configurar Convex y Next.js rápidamente, ejecuta

<p>
  <b>
    <CodeWithCopyButton text="npm create convex@latest" />
  </b>
</p>

o sigue la guía a continuación.

***

Aprende cómo consultar datos de Convex en una app de Next.js usando el App Router
y <LanguageSelector verbose />

Como alternativa, consulta la versión de esta guía rápida para
[Pages Router](/client/nextjs/pages-router/quickstart-nextjs-pages-router.mdx).


<StepByStep>
  <Step title="Crea una app de Next.js">
    Crea una app de Next.js usando el comando `npx create-next-app`.

    Elige la opción predeterminada para cada prompt (pulsa Enter).

    <JSDialectVariants>
      ```sh
      npx create-next-app@latest my-app
      ```

      ```sh
      npx create-next-app@latest my-app --js
      ```
    </JSDialectVariants>

  </Step>
  <Step title="Instala la biblioteca de cliente y servidor de Convex">
    Para empezar, instala el paquete `convex`.

    Navega a tu app e instala `convex`.


    ```sh
    cd my-app && npm install convex
    ```

  </Step>
  <Step title="Configura un despliegue de Convex en dev">
    A continuación, ejecuta `npx convex dev`. Esto
    te pedirá que inicies sesión con GitHub,
    crees un proyecto y guardes tus URL de producción y de despliegue.

    También creará una carpeta `convex/`
    para que escribas en ella tus funciones de API de backend. El comando `dev`
    seguirá ejecutándose para sincronizar tus funciones
    con tu despliegue de dev en la nube.


    ```sh
    npx convex dev
    ```

  </Step>

  <Step title="Crea datos de ejemplo para tu base de datos">
    En una nueva ventana de la terminal, crea un archivo `sampleData.jsonl`
    con algunos datos de ejemplo.

    <Snippet
      source={sampleData}
      title="sampleData.jsonl"
    />

  </Step>

  <Step title="Agrega los datos de ejemplo a tu base de datos">
    Usa el comando [`import`](/database/import-export/import) para agregar una tabla `tasks` con los datos de ejemplo a tu base de datos de Convex.

    ```
    npx convex import --table tasks sampleData.jsonl
    ```

  </Step>

  <Step title="Expón una consulta de base de datos">
    En la carpeta `convex/`, agrega un nuevo archivo <JSDialectFileName name="tasks.ts" /> con una función de consulta que cargue los datos.

    Exportar una función de consulta desde este archivo
    declara una función de API con el nombre del archivo
    y el nombre del export: `api.tasks.get`.

    <TSAndJSSnippet
      sourceTS={tasks}
      sourceJS={tasksJs}
      title="convex/tasks.ts"
    />

  </Step>

  <Step title="Crea un componente de cliente para el proveedor de Convex">
    Para que `<ConvexProvider>` funcione en el cliente, se le debe pasar `ConvexReactClient`.

    En la carpeta `app/`, agrega un nuevo archivo <JSDialectFileName name="ConvexClientProvider.tsx" /> con el siguiente código. Esto crea un componente de cliente que envuelve `<ConvexProvider>` y le pasa el `<ConvexReactClient>`.

    <TSAndJSSnippet
      sourceTS={ConvexClientProvider}
      sourceJS={ConvexClientProviderJs}
      title="app/ConvexClientProvider.tsx"
    />

  </Step>

  <Step title="Conecta el ConvexClientProvider">
    En <JSDialectFileName name="app/layout.tsx" ext="js" />, envuelve los children del elemento `body` con `<ConvexClientProvider>`.

    <TSAndJSSnippet
      sourceTS={layout}
      sourceJS={layoutJs}
      title="app/layout.tsx"
      jsExtension="js"
      highlightPatterns={[ "Convex", ]}
    />

  </Step>

  <Step title="Muestra los datos en tu app">
    En <JSDialectFileName name="app/page.tsx" ext="js" />, usa el hook `useQuery()` para hacer una consulta a tu función de API `api.tasks.get`.

    <TSAndJSSnippet
      sourceTS={page}
      sourceJS={pageJs}
      title="app/page.tsx"
      jsExtension="js"
      highlightPatterns={[ "use client", "useQuery", "api", "tasks", "text", "\\)\\)\\}" ]}
    />

  </Step>

  <Step title="Inicia la app">
    Ejecuta tu servidor de desarrollo de Next.js, abre [http://localhost:3000](http://localhost:3000) en un navegador
    y ve la lista de tareas.

    ```sh
    npm run dev
    ```

  </Step>

</StepByStep>

Consulta la [documentación completa de Next.js](/client/nextjs/app-router/index.mdx).